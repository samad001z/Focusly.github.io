# Render.com Web Service Configuration
# This file tells Render how to deploy your Node.js application

services:
  - type: web
    name: focusly
    env: node
    region: oregon
    plan: free
    
    # Build command - install dependencies
    buildCommand: npm install
    
    # Start command
    startCommand: npm start
    
    # Environment variables (set these in Render dashboard)
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 5000
      
      # Firebase credentials (set via Render dashboard)
      - key: FIREBASE_PROJECT_ID
        fromDatabase:
          name: firebase-creds
          property: projectId
      
      - key: FIREBASE_PRIVATE_KEY
        fromDatabase:
          name: firebase-creds
          property: privateKey
      
      - key: FIREBASE_CLIENT_EMAIL
        fromDatabase:
          name: firebase-creds
          property: clientEmail
      
      - key: GOOGLE_API_KEY
        fromDatabase:
          name: google-creds
          property: apiKey
    
    # Health check endpoint for Render to verify deployment
    healthCheckPath: /health
    healthCheckInterval: 30
